function scrollDown(){scroller.scrollTop=scroller.scrollTop+diff/12,scroller.scrollTop-originalTop-diff<-diff/12&&window.requestAnimationFrame(scrollDown)}function initAutocomplete(){autocomplete=new google.maps.places.Autocomplete(document.getElementById("ship-address").$.input,{types:["geocode"]}),autocomplete.addListener("place_changed",fillInAddress)}function fillInAddress(){for(var e=autocomplete.getPlace(),o=0;o<e.address_components.length;o++){var t=e.address_components[o].types[0];if(componentForm[t]){var n=e.address_components[o][componentForm[t]];if(fullAddress[t]=n,"postal_code"===t){var r=document.querySelector("gold-zip-input");r.value=n,r.oninput()}}}}function geolocate(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var o={lat:e.coords.latitude,lng:e.coords.longitude},t=new google.maps.Circle({center:o,radius:e.coords.accuracy});autocomplete.setBounds(t.getBounds())})}function ProgressTracker(e,o){var t=this;this.progressBar=o,this.inputs=e,this.inputs.forEach(function(e){e.element=document.querySelector(e.selector),e.added=!1,e.isValid=null,e.element.oninput=function(){e.isValid=t.determineStatus(e),t.adjustProgressIfNecessary(e)}})}var useDiffBilling=document.querySelector(".use-diff-billing"),newBilling=document.querySelector(".new-billing"),submit=document.querySelector(".submit"),scroller=document.querySelector("paper-header-panel").scroller,startDist=submit.getBoundingClientRect().bottom-useDiffBilling.getBoundingClientRect().bottom,endDist,originalTop,diff;useDiffBilling.addEventListener("change",function(e){newBilling.classList.toggle("fade-in"),this.checked&&window.setTimeout(function(){originalTop=scroller.scrollTop,endDist=submit.getBoundingClientRect().bottom-useDiffBilling.getBoundingClientRect().bottom,diff=endDist-startDist,window.requestAnimationFrame(scrollDown)},200)});var placeSearch,autocomplete,componentForm={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"},fullAddress={},progressBar=document.querySelector("paper-progress");ProgressTracker.prototype={determineStatus:function(e){var o=!1;o=e.element.value.length>0?!0:!1;try{o=o&&e.element.validate()}catch(t){console.log(t)}return o},adjustProgressIfNecessary:function(e){var o=this.progressBar.value;e.added&&!e.isValid?(o-=e.amount,e.added=!1):!e.added&&e.isValid&&(o+=e.amount,e.added=!0),this.progressBar.value=o}};var inputs=[{selector:"#cc-number",amount:16},{selector:"#cc-exp",amount:16},{selector:"#cc-zip",amount:16},{selector:"#cc-cvc",amount:16},{selector:"#ship-name",amount:16},{selector:"#ship-address",amount:20}],progressTracker=new ProgressTracker(inputs,progressBar);